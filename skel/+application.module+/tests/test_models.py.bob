# -*- coding: utf-8 -*-
# {{{ application.name }}} (c) {{{ author.name }}}

from nose.plugins.attrib import attr

from flask.ext.diamond.utils.testhelpers import GeneralTestCase
from {{{ application.module }}} import models, create_app, db
from .fixtures import typical_workflow


class ModelTestCase(GeneralTestCase):
    "A collection of Model tests"

    def create_app(self):
        self.app = create_app()
        self.app.config['WTF_CSRF_ENABLED'] = False
        self.db = db
        return self.app

    def setUp(self):
        super(ModelTestCase, self).setUp()
        typical_workflow()


class UserTestCase(ModelTestCase):
    "Coverage for User Model"

    def test_create(self):
        ian = models.User.create(email='ianclone', password='ian')
        ian = models.User.find(email='ianclone')
        assert ian
        assert ian.email == 'ianclone'

    @attr("skip")
    def test_skip(self):
        assert False

class IndividualTestCase(ModelTestCase):
    "Coverage for Invidiaul Model"

    def test_create(self):
        ian = models.Individual.create(name="Ian")
        liz = models.Individual.create(name="Ian", friend=ian)
        assert ian
        assert liz

    @attr("skip")
    def test_skip(self):
        assert False
